<div
  style="width: 100% ; height: 100% ; display: flex ; align-items: center; justify-content: center ; align-items: center; background: black">

  <img src="../../assets/wallpaper2.jpeg" style="filter: blur(2px)" class="background">
</div>

<audio src="../../assets/lostsanct.mp4" autoplay loop></audio>

<div class="animation-wrapper">
  <div class="particle particle-1"></div>
  <div class="particle particle-2"></div>
  <div class="particle particle-3"></div>
  <div class="particle particle-4"></div>
</div>


<div style="position: absolute ; top: 0px ; width: 100% ; max-width: 100%">

  <div *ngIf="!seeAllRooms">

    <div>

      <div class="cinzel" style="font-size: 52px;
      font-weight: 600;
      text-shadow: 2px 2px rgb(7, 7, 7);
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 200px;
      color: white;">
        Choose a character
      </div>


      <div style="display: flex">

        <div *ngFor="let char of characterList"
          style="border-radius: 20px ; background: rgba(0, 0, 0, 0.870) ; width: 100% ; display: flex ; justify-content: center ; align-items: center ; flex-direction: column ; margin: 30px ; padding: 40px">

          <div>
            <img [src]="char.picture"
              style="width: 150px ; height: 150px ; border-radius: 100px ; border: 6px black solid">
          </div>

          <div class="cinzel" style="font-size: 25px ; color: white ; margin: 20px">
            The {{char.name}}
          </div>

          <div class="cinzel but" style="color: white" (click)="pickCharacter(char)">
            Select
          </div>

        </div>

      </div>

    </div>

    <div *ngIf="characterSelected"
      style="margin-top: 40px ; display: flex; justify-content: center ; align-items: center ; width: 100% ; flex-direction:column">

      <div style>
        <img [src]="characterSelected.picture"
          style="width: 80px ; height: 80px ; border-radius: 100px ; border: 2px black solid ; margin-bottom: 10px">
      </div>

      <div class="cinzel" style="font-size: 20px;
      font-weight: 600;
      text-shadow: 2px 2px rgb(7, 7, 7);
      color: white;">
        How should we call you?
      </div>

      <input class="cinzel" [(ngModel)]="yourName"
        style="text-align: center ; height: 60px ; margin-top: 30px ; font-size: 15px">

      <div class="cinzel but" style="color: white ; width: 8% ; margin-top: 10px" (click)="seeRooms()">
        Search for rooms
      </div>

    </div>



  </div>

  <div *ngIf="seeAllRooms">

    <div style="display: flex ; justify-content: center ; flex-direction: column; align-items: center" *ngIf="!roomListShow">

      <div style="position: absolute ; top: 65px ; left: 65px">

        <div class="cinzel"
          style="display: flex; justify-content: center; align-items: center ; background: rgba(0, 0, 0, 0.611) ; border-radius: 100% ; height: 90px ; width:90px ; color: white ; font-size: 32px ; color: white ; cursor: pointer"
          (click)="seeAllRooms = false">
          < </div>

        </div>

        <div
          style="height: 380px ; display: flex; justify-content: center ; align-items: center ; flex-direction: column">

          <div style>
            <img [src]="characterSelected.picture"
              style="width: 150px ; height: 150px ; border-radius: 100px ; border: 6px black solid">
          </div>

          <div class="cinzel"
            style="font-size: 26px; color: white ; text-shadow: 2px 2px rgb(7, 7, 7); margin-top: 5px">
            {{yourName}}
          </div>
          <div class="cinzel"
            style="font-size: 20px; color: white ; text-shadow: 2px 2px rgb(7, 7, 7); margin-top: 30px">
            Playing as the {{characterSelected.name}}
          </div>

        </div>


        <div class="cinzel" (click)="multiPlayer()"
          style="cursor: pointer; color: white; font-size: 30px ; border-radius: 20px ; background: rgba(0, 0, 0, 0.870) ; width: 40% ; display: flex ; justify-content: center ; align-items: center ; flex-direction: column ; margin: 30px ; padding: 40px">
          Play online

          <img style="width: 50px ; height: 50px ; border-radius: 100px ; margin-top: 20px"
            src="../../assets/online.jpg">
        </div>

        <div (click)="singlePlayer()" class="cinzel"
          style="cursor:pointer; color: white; font-size: 30px ; border-radius: 20px ; background: rgba(0, 0, 0, 0.870) ; width: 40% ; display: flex ; justify-content: center ; align-items: center ; flex-direction: column ; margin: 30px ; padding: 40px">
          Play against AI

          <img style="width: 50px ; height: 50px ; border-radius: 100px ; margin-top: 20px" src="../../assets/ai.png">

        </div>

      </div>

    </div>

    <div style="display: flex ; justify-content: center ; flex-direction: column; align-items: center" *ngIf="roomListShow">

      <div style="position: absolute ; top: 65px ; left: 65px">

        <div class="cinzel"
          style="display: flex; justify-content: center; align-items: center ; background: rgba(0, 0, 0, 0.611) ; border-radius: 100% ; height: 90px ; width:90px ; color: white ; font-size: 32px ; color: white ; cursor: pointer"
          (click)="seeAllRooms = false"> 
          < 
        </div>
      </div>

        <div
          style="height: 380px ; display: flex; justify-content: center ; align-items: center ; flex-direction: column">

          <div style>
            <img [src]="characterSelected.picture"
              style="width: 150px ; height: 150px ; border-radius: 100px ; border: 6px black solid">
          </div>

          <div class="cinzel"
            style="font-size: 26px; color: white ; text-shadow: 2px 2px rgb(7, 7, 7); margin-top: 5px">
            {{yourName}}
          </div>
          <div class="cinzel"
            style="font-size: 20px; color: white ; text-shadow: 2px 2px rgb(7, 7, 7); margin-top: 30px">
            Playing as the {{characterSelected.name}}
          </div>

        </div>

        <div *ngIf="!waitingForSomeone">

          <div style="width: 100% ; display: flex ; justify-content: center">
            <div class="cinzel but" style="width: 70px ; color: white ; margin-right: 10px; display: flex;
            justify-content: center;
            align-items: center;" (click)="getBattles()">
              refresh
            </div>
    
            <div class="cinzel but" style="width: 70px ; color: white ; margin-right: 10px; display: flex;
            justify-content: center;
            align-items: center; text-align: center" (click)="openCreateDialog()">
              create room
            </div>
  
            <div class="cinzel but" style="width: 70px ; color: white ; margin-right: 10px; display: flex;
            justify-content: center;
            align-items: center; text-align: center" (click)="openJoinDialog()">
              join private room
            </div>
  
          </div>
  
  
          <div style="display: flex ; flex-wrap: wrap ; max-height: 25% ; overflow-y: scroll">
  
            <div *ngFor="let rooms of currentRooms" >
  
              <div class="cinzel" style="cursor: pointer; color: white; font-size: 30px ; border-radius: 20px ; background: rgba(0, 0, 0, 0.870) ; width: 40% ; display: flex ; justify-content: center ; align-items: center ; flex-direction: column ; margin: 30px ; padding: 40px">
                <div class="cinzel" style="text-align: center ; font-size: 15px">
                  {{rooms.data.name}}
                </div>
                
                <div style="font-size: 13px">
                  {{rooms.data.hoster}}
                </div>
      
                <img style="width: 50px ; height: 50px ; border-radius: 100px ; margin-top: 20px ; margin-bottom: 30px" [src]="rooms.vs.picture">
              
                <div class="cinzel but" style="color: white ; font-size: 14px ; margin-top: 10px" (click)="joinRoom(rooms)">
                  JOIN
                </div>
    
              </div>
    
            </div>
  
          </div>

        </div>

        <div *ngIf="waitingForSomeone">

          <div class="cinzel" style="color: white">
            Waiting for someone to join {{roomCreated.currentRoomName}}
          </div>
        </div>
        

    </div>


  </div>

